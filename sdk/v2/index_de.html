<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>LineMetrics API SDK Referenz</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index_de" data-languages="[&quot;javascript&quot;,&quot;csharp&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">JavaScript</a>
              <a href="#" data-language-name="csharp">C#</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://lm3.linemetrics.com'>LineMetrics App</a></li>
            <li><a href="index.html" style="line-height: 14px;"><img style="height: 14px;margin-right:5px;position: relative;top: 3px;" src="images/en.png">English</a> | &nbsp;
            <a href="index_de.html"><img style="height: 14px;margin-right:5px;position: relative;top: 3px;" src="images/de.png">Deutsch</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="einleitung">Einleitung</h1>

<p>Willkommen bei der LineMetrics API SDK Dokumentation. Dieses SDK vereinfacht den Zugriff auf die LineMetrics API und kapselt Aufrufe in das Objektmodell mit semantischer Information.
Diese Dokumentation arbeitet mithilfe von Beispielen in der rechten Spalte.</p>

<aside class="notice">
Diese Dokumentation bezieht sich auf die LineMetrics SDK Versionen 2.x.x
</aside>

<h2 id="version-2-1-0-2">Version 2.1.0.2</h2>

<p>Diese Dokumentation ist aktuell in Version 2.1.0.2</p>

<p><a href="#release-notes">Zu den Release Notes</a></p>

<h1 id="vorteile">Vorteile</h1>

<p>Durch das Kapseln der <a href="https://rest-api-doc.linemetrics.com/v2/">LineMetrics Rest API</a> können dem Endnutzer (In diesem Fall dem Entwickler) viele Aufgaben abgenommen werden. Access Token Validierung und Erneuerung, arbeiten mit Daten und vieles mehr.</p>

<h1 id="grundaufbau">Grundaufbau</h1>

<p>Zuerst wird muss eine Verbindung mit der LineMetrics API hergestellt werden. Diese benötigt aktuell <code class="prettyprint">Client ID</code> und das <code class="prettyprint">Client Secret</code>. Nach erfolgreicher Authentifizierung wird ein LM_API Objekt zurückgegeben. Dieses dient als Schnittstelle zu den LineMetrics Servern und kümmert sich um den gesamten Datenverkehr. Dadurch fallen mögliche Fehlerquellen wie falsch gesetzte Header, Formatfehler oder Access token Handling weg.</p>

<p>Dem Entwickler steht es nun offen Objekte direkt anzusprechen. Entweder per ID, per Custom Key/Alias oder auch per Objekttyp. Ziel des SDK&rsquo;s ist es die Abfragen an echten Objekten zu orientieren und so einen einfacheren Einstieg zu gewährleisten.</p>

<h2 id="objektaufbau">Objektaufbau</h2>

<p>Ein Objekt spiegelt ein reales Objekt wieder und beschreibt dieses auch durch Meta Informationen. Beispielsweise ein Fahrzeug, eine Maschine oder auch ganze Gebäude können mit dem LineMetrics Objektservice virtualisiert werden. Dabei werden Daten aus verschiedenen Datenquellen (LineMetrics Hardware, API Schnittstellen, Externe Hardware) gesammelt und zentral mit dem Objekt angezeigt.</p>

<p>Hier ein Beispiel anhand eines Fahrzeuges wie ein Objekt aufgebaut sein kann:</p>

<p><img src="images/demoobject.png"></p>

<h1 id="funktionen">Funktionen</h1>

<h2 id="authentifizierung">Authentifizierung</h2>

<p>Um Funktionen nutzen zu können, muss der Benutzer authentifiziert sein. Dafür verfügen die SDK&rsquo;s über 2 verschiedene Verfahren</p>

<h3 id="client-credentials">Client Credentials</h3>
<pre class="highlight javascript"><code><span class="c1">// CLIENT_ID und CLIENT_SECRET finden Sie unter den API's auf der LineMetrics Plattform</span>
<span class="kd">var</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LM_API</span><span class="p">(</span><span class="s2">"client_credentials"</span><span class="p">,</span><span class="nx">CLIENT_ID</span><span class="p">,</span><span class="nx">CLIENT_SECRET</span><span class="p">);</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">ILMService</span> <span class="n">api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">LineMetricsService</span><span class="p">(</span><span class="s">"client_id"</span><span class="p">,</span> <span class="s">"client_secret"</span><span class="p">);</span>
</code></pre>

<p>Bei den Client Credentials handelt es sich um den Authentifizierungstyp der standardmäßig verwendet werden soll. Dieser ermöglicht durch die Authentifizierung über die Parameter &lsquo;Client ID&rsquo; und &#39;Client Secret&rsquo; Zugriff auf alle Daten des Accounts, für den der Zugang angelegt wurde.</p>

<p>Zur Initialisierung müssen lediglich <code class="prettyprint">Client Id</code> und <code class="prettyprint">Client Secret</code> übergeben werden.</p>

<h3 id="passwort-grant">Passwort Grant</h3>
<pre class="highlight javascript"><code><span class="c1">// Kontaktieren Sie support@linemetrics.com für eine freischaltung dieses Authentifizierungstyps</span>
<span class="kd">var</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LM_API</span><span class="p">(</span><span class="s2">"client_credentials"</span><span class="p">,</span><span class="nx">CLIENT_ID</span><span class="p">,</span><span class="nx">CLIENT_SECRET</span><span class="p">,</span><span class="nx">EMAIL</span><span class="p">,</span><span class="nx">PASSWORD</span><span class="p">);</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">ILMService</span> <span class="n">api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">LineMetricsService</span><span class="p">(</span>
  <span class="s">"client_id"</span><span class="p">,</span> <span class="s">"client_secret"</span><span class="p">,</span>
  <span class="s">"email"</span><span class="p">,</span> <span class="s">"password"</span><span class="p">);</span>
</code></pre>

<p>Beim Passwort Grant erfolgt die Authentifizierung des Rest Clients wie gewohnt über die Parameter &#39;Client ID&rsquo; und &#39;Client Secret&rsquo;. Zusätzlich müssen die Parameter &#39;E-Mail&rsquo; und &#39;Passwort&rsquo; übergeben. Dadurch wird ein Session Token generiert, der genau für das jeweilige Konto gültig ist. Dieser Typ der Authentifizierung muss über support@linemetrics.com beantragt werden.</p>

<aside class="warning">
Wichtig: Der Passwort Grant unterstützt aktuell nur Leseoperationen und keine Schreiboperationen.
</aside>

<h3 id="logout">Logout</h3>
<pre class="highlight javascript"><code><span class="c1">// Loggt den User aus und kappt die Verbindung mit dem LineMetrics Server</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">logout</span><span class="p">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">api</span><span class="p">.</span><span class="nf">Logout</span><span class="p">();</span>
</code></pre>

<p>Beim ausloggen werden alle Access Token automatisch invalidiert.</p>

<h2 id="api-generische-funktionen">API | Generische Funktionen</h2>
<pre class="highlight javascript"><code><span class="c1">// Prüft ob der aktuell verwendete OAuth Token valide ist.</span>
<span class="c1">// Wenn dies zutrifft, wird die als Parameter übergebene Callbackfunktion ausgeführt.</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">checkToken</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// ladet ein einzelnes Objekt anhand der zugehörigen ID oder Alias</span>
<span class="c1">// per Id</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">"a091377b1009cbff91ad4e706c0353bf"</span><span class="p">);</span>

<span class="c1">// per Customkey</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">"my_custom_key"</span><span class="p">);</span>

<span class="c1">// per Id und Alias</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">"my_custom_key/temperature"</span><span class="p">);</span>

<span class="c1">// per Customkey und Alias</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">"a091377b1009cbff91ad4e706c0353bf/temperature"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// ladet die erste Ebene der Assets und gibt diese als Array zurück</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">loadAssets</span><span class="p">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="c1">// lädt die erste Ebene der Assets und gibt diese als Array zurück
</span><span class="n">api</span><span class="p">.</span><span class="nf">LoadAssets</span><span class="p">();</span>

<span class="c1">// lädt ein Objekt per Id
// (Rückgabe Wert ist BaseType "ObjectBase")
</span><span class="n">api</span><span class="p">.</span><span class="nf">LoadObject</span><span class="p">(</span><span class="s">"a091377b1009cbff91ad4e706c0353bf"</span><span class="p">));</span>

<span class="c1">// lädt ein Objekt per CustomKey
// (Rückgabe Wert ist BaseType "ObjectBase")
</span><span class="n">api</span><span class="p">.</span><span class="nf">LoadObjectByCustomKey</span><span class="p">(</span><span class="s">"my_custom_key"</span><span class="p">);</span>

<span class="c1">// lädt ein Objekt per CustomKey und Alias
// (Rückgabe Wert ist BaseType "ObjectBase")
</span><span class="n">api</span><span class="p">.</span><span class="nf">LoadObject</span><span class="p">(</span><span class="s">"my_custom_key"</span><span class="p">,</span> <span class="s">"temperature"</span><span class="p">);</span>
</code></pre>

<p>Objekte, Eigenschaften, Messpunkte und andere verfügen über einzigartige ID&rsquo;s. Zum direkten Abfrage dieser, können folgende Funktionen verwendet werden, unabhängig vom Typ.</p>

<p>Zur Abfrage können auch Alias oder Custom Keys verwendet werden. Eine nähere Beschreibung ist <a href="#custom-keys-und-alias">hier</a> zu finden</p>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>checkToken</td>
<td>Keine</td>
<td>Prüft ob der aktuelle Token gültig ist</td>
</tr>
<tr>
<td>load</td>
<td>String &#39;id&rsquo;</td>
<td>Lade ein Objekt, Eigenschaft, Messpunkt, etc&hellip; <br> Auf Grund der ID oder des hinterlegten Alias/Custom Keys</td>
</tr>
<tr>
<td>loadAssets</td>
<td>Keine</td>
<td>Ladet alle Assets der 1. Ebene</td>
</tr>
</tbody></table>

<h2 id="objekt-engl-asset">Objekt | (engl. Asset)</h2>

<p>Objekte - oder auch Assets genannt - sind die virtualisierte Form echter Objekte. z.B: Fahrzeuge, Gebäude, Maschinen, usw&hellip;</p>

<p>Diese Objekte verfügen über diverse Eigenschaften, Dokumente oder auch Messpunkte.</p>

<h3 id="informationen">Informationen</h3>
<pre class="highlight javascript"><code><span class="nx">asset</span><span class="p">.</span><span class="nx">getId</span><span class="p">();</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">asset</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">();</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">asset</span><span class="p">.</span><span class="nx">getIcon</span><span class="p">();</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">asset</span><span class="p">.</span><span class="nx">getImage</span><span class="p">();</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">asset</span><span class="p">.</span><span class="nx">getChildrenInfo</span><span class="p">();</span>
<span class="c1">// Rückgabe wäre beispielsweise:</span>
<span class="c1">//  {</span>
<span class="c1">//      property: 4,</span>
<span class="c1">//      datastream: 2</span>
<span class="c1">//  }</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">asset</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">asset</span><span class="p">.</span><span class="n">Title</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">asset</span><span class="p">.</span><span class="n">Icon</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">asset</span><span class="p">.</span><span class="n">CustomKey</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">asset</span><span class="p">.</span><span class="n">ChildrenInfo</span><span class="p">;</span>
<span class="c1">// Rückgabewert ist vom Typ Dictionary
// und beinhaltet Anzahl und Typ der Kinder des Assets
</span></code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>getId</td>
<td>Keine</td>
<td>Die Id des Assets, wenn ein Custom Key verfügbar ist, wird dieser zurückgegeben</td>
</tr>
<tr>
<td>getTitle</td>
<td>Keine</td>
<td>Der Titel des Assets</td>
</tr>
<tr>
<td>getIcon</td>
<td>Keine</td>
<td>Das Icon des Assets</td>
</tr>
<tr>
<td>getImage</td>
<td>Keine</td>
<td>Das Bild des Assets (Absoluter Pfad)</td>
</tr>
<tr>
<td>getChildrenInfo</td>
<td>Keine</td>
<td>Gibt ein Array mit allen vorhandenen Kind Elementen zurück, inklusive der Anzahl</td>
</tr>
</tbody></table>

<h3 id="unterobjekte-laden">Unterobjekte laden</h3>
<pre class="highlight javascript"><code><span class="c1">// Gibt ein Array von darunter liegenden Assets zurück</span>
<span class="nx">asset</span><span class="p">.</span><span class="nx">loadAssets</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">assets</span><span class="p">){</span>
    <span class="c1">// Array assets</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Gibt ein Array von darunter liegenden Eigenschaften zurück</span>
<span class="nx">asset</span><span class="p">.</span><span class="nx">loadProperties</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">properties</span><span class="p">){</span>
    <span class="c1">// Array properties</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Gibt ein Array von darunter liegenden Messpunkten zurück</span>
<span class="nx">asset</span><span class="p">.</span><span class="nx">loadDataStreams</span><span class="p">([</span><span class="s2">"temperature"</span><span class="p">,</span><span class="s2">"status"</span><span class="p">]).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">dataStreams</span><span class="p">){</span>
    <span class="c1">// Array dataStreams</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Gibt ein Array von darunter liegenden Dokumenten zurück</span>
<span class="nx">asset</span><span class="p">.</span><span class="nx">loadDocuments</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">documents</span><span class="p">){</span>
    <span class="c1">// Array documents</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight csharp"><code><span class="c1">// Gibt ein Array von darunter liegenden Assets zurück
</span><span class="n">asset</span><span class="p">.</span><span class="nf">LoadAssets</span><span class="p">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="c1">// Gibt ein Array von darunter liegenden Eigenschaften zurück
</span><span class="n">asset</span><span class="p">.</span><span class="nf">LoadProperties</span><span class="p">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="c1">// Gibt ein Array von darunter liegenden Messpunkten zurück
</span><span class="n">asset</span><span class="p">.</span><span class="nf">LoadDataStreams</span><span class="p">();</span>
</code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>loadAssets</td>
<td>Keine</td>
<td>Liefert alle darunter liegenden Assets</td>
</tr>
<tr>
<td>loadProperties</td>
<td><code class="prettyprint">Array &#39;alias&#39;</code></td>
<td>Liefert alle Eigenschaften mit den Aliases <br> Wenn leer, werden alle Eigenschaften geladen</td>
</tr>
<tr>
<td>loadDataStreams</td>
<td><code class="prettyprint">Array &#39;alias&#39;</code></td>
<td>Liefert alle Messpunkte mit den Aliases <br> Wenn leer, werden alle Messpunkte geladen</td>
</tr>
<tr>
<td>loadDocuments</td>
<td><code class="prettyprint">Array &#39;alias&#39;</code></td>
<td>liefert alle Dokumente mit den Aliases <br> Wenn leer, werden alle Dokumente geladen</td>
</tr>
</tbody></table>

<h3 id="objekt-ndern">Objekt ändern</h3>

<p>Zum ändern von einem Asset können die verschiedenen verfügbaren Werte wie folgt geändert werden. Zum persistieren und endgültigen abspeichern, wird schlussendlich die <code class="prettyprint">save</code> Methode aufgerufen</p>
<pre class="highlight javascript"><code><span class="nx">asset</span><span class="p">.</span><span class="nx">setTitle</span><span class="p">(</span><span class="s2">"Neuer Titel"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">asset</span><span class="p">.</span><span class="nx">setCustomKey</span><span class="p">(</span><span class="s2">"mein_key"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">asset</span><span class="p">.</span><span class="nx">setIcon</span><span class="p">(</span><span class="s2">"car"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">asset</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">asset</span><span class="p">.</span><span class="n">Title</span> <span class="p">=</span> <span class="s">"Neuer Titel"</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">asset</span><span class="p">.</span><span class="n">CustomKey</span> <span class="p">=</span> <span class="s">"mein_key"</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">asset</span><span class="p">.</span><span class="n">Icon</span> <span class="p">=</span> <span class="s">"car"</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">asset</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>
</code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>setTitle</td>
<td><code class="prettyprint">String &#39;title&#39;</code></td>
<td>Der Titel des Assets</td>
</tr>
<tr>
<td>setCustomKey</td>
<td><code class="prettyprint">String &#39;key&#39;</code></td>
<td>Der Custom Key für das Objekt (Muss einzigartig sein)</td>
</tr>
<tr>
<td>setIcon</td>
<td><code class="prettyprint">String &#39;icon&#39;</code></td>
<td>Das Icon des Assets <a href="#verf-gbare-icons">Verfügbare Icons</a></td>
</tr>
<tr>
<td>save</td>
<td>Keine</td>
<td>Speichert das aktuelle Objekt ab</td>
</tr>
</tbody></table>

<aside class="notice">
Daten werden erst mit dem `save` Aufruf in der Datenbank gespeichert
</aside>

<h2 id="eigenschaften-engl-property">Eigenschaften | (engl. Property)</h2>

<p>Eigenschaften oder Metainformationen von Objekten beschreiben dieses mit statischen Werten. Diese ändern sich im Regelfall nicht oft oder nur selten. Das Ändern von Eigenschaften passiert meist manuell.
Beispielsweise der Standort von Gebäuden, Grundfläche, Raumanzahl, etc&hellip;</p>
<pre class="highlight javascript"><code><span class="nx">property</span><span class="p">.</span><span class="nx">getId</span><span class="p">();</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">property</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">();</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">property</span><span class="p">.</span><span class="nx">getIcon</span><span class="p">();</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">property</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">property</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">property</span><span class="p">.</span><span class="n">Title</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">property</span><span class="p">.</span><span class="n">Icon</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">property</span><span class="p">.</span><span class="n">Value</span><span class="p">;</span>
</code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>getId</td>
<td>Keine</td>
<td>Die Id der Eigenschaft, wenn ein Alias verfügbar ist, wird dieser zurückgegeben</td>
</tr>
<tr>
<td>getTitle</td>
<td>Keine</td>
<td>Der Titel der Eigenschaft</td>
</tr>
<tr>
<td>getIcon</td>
<td>Keine</td>
<td>Das Icon der Eigenschaft</td>
</tr>
<tr>
<td>getValue</td>
<td>Keine</td>
<td>Der Wert der Eigenschaft</td>
</tr>
</tbody></table>

<h3 id="eigenschaft-ndern">Eigenschaft ändern</h3>

<p>Zum Ändern von einer Eigenschaft können die verschiedenen verfügbaren Werte wie folgt geändert werden. Zum persistieren und endgültigen abspeichern, wird schlussendlich die <code class="prettyprint">save</code> Methode aufgerufen</p>
<pre class="highlight javascript"><code><span class="nx">property</span><span class="p">.</span><span class="nx">setTitle</span><span class="p">(</span><span class="s2">"Neuer Titel"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">property</span><span class="p">.</span><span class="nx">setAlias</span><span class="p">(</span><span class="s2">"mein_alias"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">property</span><span class="p">.</span><span class="nx">setIcon</span><span class="p">(</span><span class="s2">"car"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">property</span><span class="p">.</span><span class="nx">setValue</span><span class="p">({</span>
    <span class="s2">"val"</span><span class="p">:</span><span class="s2">"Neuer Wert"</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">property</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">property</span><span class="p">.</span><span class="n">Title</span> <span class="p">=</span> <span class="s">"Neuer Titel"</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">property</span><span class="p">.</span><span class="n">Alias</span> <span class="p">=</span> <span class="s">"mein_alias"</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">property</span><span class="p">.</span><span class="n">Icon</span> <span class="p">=</span> <span class="s">"car"</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">property</span><span class="p">.</span><span class="n">Value</span> <span class="p">=</span> <span class="k">new</span> <span class="n">LineMetrics</span><span class="p">.</span><span class="n">API</span><span class="p">.</span><span class="n">DataTypes</span><span class="p">.</span><span class="n">Double</span> <span class="p">{</span> <span class="n">Value</span> <span class="p">=</span> <span class="m">3.14</span> <span class="p">};</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">property</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>
</code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>setTitle</td>
<td><code class="prettyprint">String &#39;title&#39;</code></td>
<td>Der Titel der Eigenschaft</td>
</tr>
<tr>
<td>setAlias</td>
<td><code class="prettyprint">String &#39;alias&#39;</code></td>
<td>Der Alias für die Eigenschaft <br> (Muss unter dem Objekt einzigartig sein)</td>
</tr>
<tr>
<td>setIcon</td>
<td><code class="prettyprint">String &#39;icon&#39;</code></td>
<td>Das Icon der Eigenschaft <a href="#verf-gbare-icons">Verfügbare Icons</a></td>
</tr>
<tr>
<td>setValue</td>
<td><code class="prettyprint">Array &#39;val&#39;</code></td>
<td>Der Wert der Eigenschaft <br>Format abhängig vom Typ <a href="#datentypen-eigenschaften">zu den Eigenschaftstypen</a></td>
</tr>
<tr>
<td>save</td>
<td>Keine</td>
<td>Speichert die aktuelle Eigenschaft ab</td>
</tr>
</tbody></table>

<aside class="notice">
Daten werden erst mit dem `save` Aufruf in der Datenbank gespeichert
</aside>

<h2 id="messpunkte-engl-datastream">Messpunkte | (engl. DataStream)</h2>

<p>Messpunke von Objekten speichern und visualisieren dynamische Daten eines Objektes. Diese werden meist automatisiert von LineMetrics Hardware, über die API oder über Dritt Hardware gemessen und in den Messpunkt geschrieben.
Beispielsweise der die Position von Fahrzeugen, der Verbrauch, Aussentemperatur, etc&hellip;</p>

<h3 id="informationen">Informationen</h3>
<pre class="highlight javascript"><code><span class="nx">datastream</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">();</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">datastream</span><span class="p">.</span><span class="nx">getIcon</span><span class="p">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">datastream</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">datastream</span><span class="p">.</span><span class="n">Title</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">datastream</span><span class="p">.</span><span class="n">Icon</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">datastream</span><span class="p">.</span><span class="n">DataTypes</span><span class="p">;</span>
<span class="c1">// liefert die unterstützten Input/Output Datentypen zurück
</span></code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>getId</td>
<td>Keine</td>
<td>Die Id des Messpunktes, wenn ein Alias verfügbar ist, wird dieser zurückgegeben</td>
</tr>
<tr>
<td>getTitle</td>
<td>Keine</td>
<td>Der Titel des Assets</td>
</tr>
<tr>
<td>getIcon</td>
<td>Keine</td>
<td>Das Icon des Assets</td>
</tr>
</tbody></table>

<h3 id="daten-laden">Daten laden</h3>
<pre class="highlight javascript"><code><span class="c1">// ladet Daten der letzten Stunde in Form eines Arrays zurück</span>
<span class="nx">datastream</span><span class="p">.</span><span class="nx">loadData</span><span class="p">(</span><span class="mi">1475154530000</span><span class="p">,</span><span class="mi">1475150930000</span><span class="p">,</span><span class="s2">"PT1M"</span><span class="p">,</span><span class="s2">"Europe/Vienna"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">values</span><span class="p">){</span>
    <span class="c1">// Array values</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// ladet den Letztwert</span>
<span class="nx">datastream</span><span class="p">.</span><span class="nx">loadLastValue</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
    <span class="c1">// Array value</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// ladet Daten der letzten Stunde und fügt diese in ein automatisch erstelltes Chart. Dieses wird in das Container Element geimpft (Ein jQuery selector wird verwendet, zb: $(".chart") )</span>
<span class="nx">datastream</span><span class="p">.</span><span class="nx">createChart</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#container"</span><span class="p">),</span><span class="mi">1475154530000</span><span class="p">,</span><span class="mi">1475150930000</span><span class="p">,</span><span class="s2">"PT1M"</span><span class="p">,</span><span class="s2">"Europe/Vienna"</span><span class="p">);</span>
</code></pre>
<pre class="highlight csharp"><code><span class="c1">// lädt die Daten des angegebenen Zeitraumes und der gewünschten Funktion (RAW, AVERAGE, SUM)
// liefert eine Liste von Instanzen der Basisklasse "DataReadResponse" zurück
// Instanzen müssen entsprechend gecastet werden (AggregatedDataReadResponse oder
// RawDataReadResponse (beinhaltet wiederum einen normalen LineMetrics Datentyp))
</span><span class="n">datastream</span><span class="p">.</span><span class="nf">LoadData</span><span class="p">(</span>
  <span class="m">1475154530000</span><span class="p">,</span> <span class="m">1475150930000</span><span class="p">,</span>
  <span class="s">"Europe/Vienna"</span><span class="p">,</span> <span class="s">"PT1M"</span><span class="p">,</span> <span class="s">"DEFAULT"</span><span class="p">);</span>
</code></pre>
<pre class="highlight csharp"><code><span class="c1">// lädt den Letztwert
// liefert die Basisklasse der Datentypen zurück, muss entsprechend gecastet werden
</span><span class="n">datastream</span><span class="p">.</span><span class="nf">LoadLastValue</span><span class="p">();</span>
</code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>loadData</td>
<td><code class="prettyprint">Int &#39;from&#39;</code> <br> <code class="prettyprint">Int &#39;to&#39;</code> <br> <code class="prettyprint">Int &#39;granularity&#39;</code> <br> <code class="prettyprint">Int &#39;timezone&#39; *</code></td>
<td>ladet Daten der letzten Stunde in Form eines Arrays zurück</td>
</tr>
<tr>
<td>loadLastValue</td>
<td>Keine</td>
<td>ladet den letzten Datenpunkt</td>
</tr>
<tr>
<td>createChart</td>
<td><code class="prettyprint">Html El &#39;container&#39;</code> <br> <code class="prettyprint">Int &#39;from&#39;</code> <br> <code class="prettyprint">Int &#39;to&#39;</code> <br> <code class="prettyprint">Int &#39;granularity&#39;</code> <br> <code class="prettyprint">Int &#39;timezone&#39; *</code></td>
<td>Erstellt ein Chart mit dem mitgegeben Zeitraum</td>
</tr>
</tbody></table>

<p><code class="prettyprint">*</code> = Optional</p>

<p>Die Granularität definiert wie sehr die Daten komprimiert werden. Dabei werden Zeitspannen im standardisierten ISO 8601 Format verwendet. Wird 1 Stunde abgefragt mit der Granularität 1 Minute, würden 60 Werte als Antwort geliefert. Bei einer Granularität von 15 Minuten auf 1 Stunde nur 4 Werte.</p>

<p>Beispiele:</p>

<ul>
<li><code class="prettyprint">PT1M</code>: 1 Minute</li>
<li><code class="prettyprint">PT4H</code>: 4 Stunden</li>
<li><code class="prettyprint">P1D</code>: 1 Tag</li>
<li><code class="prettyprint">P1M</code>: 1 Monat</li>
</ul>

<aside class="notice">
Zeitstempel werden in ms angegeben
</aside>

<aside class="warning">
Wichtig: createChart wird aktuell nur vom LineMetrics JS SDK unterstützt.
</aside>

<h3 id="messpunkt-ndern">Messpunkt ändern</h3>
<pre class="highlight javascript"><code><span class="nx">datastream</span><span class="p">.</span><span class="nx">setTitle</span><span class="p">(</span><span class="s2">"Neuer Titel"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">datastream</span><span class="p">.</span><span class="nx">setAlias</span><span class="p">(</span><span class="s2">"mein_alias"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">datastream</span><span class="p">.</span><span class="nx">setIcon</span><span class="p">(</span><span class="s2">"car"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">datastream</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">datastream</span><span class="p">.</span><span class="n">Title</span> <span class="p">=</span> <span class="s">"Neuer Titel"</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">datastream</span><span class="p">.</span><span class="n">Alias</span> <span class="p">=</span> <span class="s">"mein_alias"</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">datastream</span><span class="p">.</span><span class="n">Icon</span> <span class="p">=</span> <span class="s">"car"</span><span class="p">;</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">datastream</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>
</code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>setTitle</td>
<td><code class="prettyprint">String &#39;title&#39;</code></td>
<td>Der Titel des Messpunktes</td>
</tr>
<tr>
<td>setAlias</td>
<td><code class="prettyprint">String &#39;alias&#39;</code></td>
<td>Der Alias für den Messpunkt <br> (Muss unter dem Objekt einzigartig sein)</td>
</tr>
<tr>
<td>setIcon</td>
<td><code class="prettyprint">String &#39;icon&#39;</code></td>
<td>Das Icon des Messpunktes <a href="#verf-gbare-icons">Verfügbare Icons</a></td>
</tr>
<tr>
<td>save</td>
<td>Keine</td>
<td>Speichert den aktuellen Messpunkt ab</td>
</tr>
</tbody></table>

<h3 id="daten-einspielen">Daten einspielen</h3>
<pre class="highlight javascript"><code><span class="c1">// Speichert einen neuen Datenpunkt in den Messpunkt</span>
<span class="nx">datastream</span><span class="p">.</span><span class="nx">saveData</span><span class="p">({</span>
    <span class="s2">"min"</span> <span class="p">:</span> <span class="mf">0.234</span><span class="p">,</span>
    <span class="s2">"val"</span> <span class="p">:</span> <span class="mf">1.678</span><span class="p">,</span>
    <span class="s2">"max"</span> <span class="p">:</span> <span class="mf">6.890</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight csharp"><code><span class="c1">// Speichert einen neuen Datenpunkt in den Messpunkt
</span><span class="n">datastream</span><span class="p">.</span><span class="nf">saveData</span><span class="p">(</span>
    <span class="k">new</span> <span class="n">LineMetrics</span><span class="p">.</span><span class="n">API</span><span class="p">.</span><span class="n">DataTypes</span><span class="p">.</span><span class="n">Double</span> <span class="p">{</span> <span class="n">Value</span> <span class="p">=</span> <span class="m">3.14</span> <span class="p">});</span>
</code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>saveData</td>
<td><code class="prettyprint">Array &#39;point&#39;</code></td>
<td>Benötigt das Array im richtigen Format <a href="#datentypen-messpunkte">zu den Datentypen</a></td>
</tr>
</tbody></table>

<h2 id="dokumente-engl-document">Dokumente | (engl. Document)</h2>
<pre class="highlight javascript"><code><span class="nb">document</span><span class="p">.</span><span class="nx">getId</span><span class="p">();</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nb">document</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">();</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nb">document</span><span class="p">.</span><span class="nx">getFile</span><span class="p">();</span>
</code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>getId</td>
<td>Keine</td>
<td>Die Id des Dokuments</td>
</tr>
<tr>
<td>getTitle</td>
<td>Keine</td>
<td>Der Titel des Dokuments</td>
</tr>
<tr>
<td>getFile</td>
<td>Keine</td>
<td>Die Url, unter der das Dokument zu finden ist</td>
</tr>
</tbody></table>

<h3 id="dokument-ndern">Dokument ändern</h3>

<p>Zum ändern von eines Dokuments können die verschiedenen verfügbaren Werte wie folgt geändert werden. Zum persistieren und endgültigen abspeichern, wird schlussendlich die <code class="prettyprint">save</code> Methode aufgerufen</p>
<pre class="highlight javascript"><code><span class="nb">document</span><span class="p">.</span><span class="nx">setTitle</span><span class="p">(</span><span class="s2">"Neuer Titel"</span><span class="p">);</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">property</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
</code></pre>

<table><thead>
<tr>
<th>Funktionsname</th>
<th>Parameter</th>
<th>Kurzbeschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>setTitle</td>
<td><code class="prettyprint">String &#39;title&#39;</code></td>
<td>Der Titel des Dokuments</td>
</tr>
<tr>
<td>save</td>
<td>Keine</td>
<td>Speichert die aktuelle Eigenschaft ab</td>
</tr>
</tbody></table>

<aside class="notice">
Daten werden erst mit dem `save` Aufruf in der Datenbank gespeichert
</aside>

<h1 id="ressourcen">Ressourcen</h1>

<h2 id="custom-keys-und-alias">Custom Keys und Alias</h2>

<p>Custom Keys und Alias sind dafür gedacht, den Umgang mit Objekten, Messpunkten und Co zu vereinfachen. Jedes Element, welches über die API abgefragt werden kann (Objekte, Messpunkte, Eigenschaften,&hellip;) verfügen über eine eindeutige ID. Diese ID ist ein Konstrukt aus 32 aufeinanderfolgenden Zeichen und Zahlen und stellt eine eindeutige ID dar.</p>

<h3 id="custom-key">Custom Key</h3>

<p>Bei Objekten kann ein Custom Key definiert werden. Über diesen ist es dann möglich ein spezifisches Objekt nicht mehr nur über die ID, sondern auch über den Custom Key abzufragen. Im gesamten System darf ein Custom Key nur 1x vorhanden sein.</p>

<h3 id="alias">Alias</h3>

<p>Ein Messpunkt / Eine Eigenschaften sind Ausprägungen eines Assets und stellen aktuelle Zustände (als Wert oder auch als Zeitreihe) oder auch Eigenschaften des Assets (z.B. Wie groß ist mein Gebäude?) dar. Diese Art von Information kann - wie auch ein Asset - direkt per UID angesprochen werden. Parallel dazu gibt es aber auch hier die Möglichkeit einen sogenannten Alias zu hinterlegen. Auch dieser ist frei wählbar, muss allerdings innerhalb des Assets eindeutig sein. Mit Custom Key und Alias haben wir somit die Möglichkeiten Abfragen auf Daten in der Form durchzuführen: Maschine1/Auslastungsgrad -&gt; Gib mir für meine Maschine 1 den Auslastungsgrad</p>

<h2 id="datentypen-messpunkte">Datentypen Messpunkte</h2>

<table><thead>
<tr>
<th>Datentyp</th>
<th>Parameter</th>
<th>Beschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>Double</td>
<td><code class="prettyprint">Float &#39;val&#39;</code></td>
<td>Wert</td>
</tr>
<tr>
<td>DoubleAverage</td>
<td><code class="prettyprint">Float &#39;val&#39;</code> <br> <code class="prettyprint">Float &#39;min&#39;</code> <br> <code class="prettyprint">Float &#39;max&#39;</code></td>
<td>Durchschnittswert <br> Minimum Wert <br> Maximum Wert</td>
</tr>
<tr>
<td>Bool</td>
<td><code class="prettyprint">Bool &#39;val&#39;</code></td>
<td>Booleanwert 0 oder 1</td>
</tr>
<tr>
<td>GeoCoord</td>
<td><code class="prettyprint">Float &#39;lat&#39;</code>  <br> <code class="prettyprint">Float &#39;long&#39;</code></td>
<td>Latitude GPS Wert (Geographische Breite) <br> Longitude GPS Wert (Längengrad)</td>
</tr>
<tr>
<td>String</td>
<td><code class="prettyprint">String &#39;val&#39;</code></td>
<td>Text</td>
</tr>
</tbody></table>

<h2 id="datentypen-eigenschaften">Datentypen Eigenschaften</h2>

<table><thead>
<tr>
<th>Datentyp</th>
<th>Parameter</th>
<th>Beschreibung</th>
</tr>
</thead><tbody>
<tr>
<td>Text</td>
<td><code class="prettyprint">String &#39;val&#39;</code></td>
<td>Wert</td>
</tr>
<tr>
<td>Integer</td>
<td><code class="prettyprint">Int &#39;val&#39;</code></td>
<td>Wert</td>
</tr>
<tr>
<td>Double</td>
<td><code class="prettyprint">Double &#39;val&#39;</code></td>
<td>Wert</td>
</tr>
<tr>
<td>GeoCoord</td>
<td><code class="prettyprint">Float &#39;lat&#39;</code>  <br> <code class="prettyprint">Float &#39;long&#39;</code> <br> <code class="prettyprint">Int &#39;precision&#39;</code></td>
<td>Latitude GPS Wert (Geographische Breite) <br> Longitude GPS Wert (Längengrad)<br>Genauigkeit in m</td>
</tr>
<tr>
<td>GeoAddress</td>
<td><code class="prettyprint">String &#39;val&#39;</code><br> <code class="prettyprint">Float &#39;lat&#39;</code>  <br> <code class="prettyprint">Float &#39;long&#39;</code> <br> <code class="prettyprint">Int &#39;precision&#39;</code></td>
<td>Physikalische Addresse <br> Latitude GPS Wert (Geographische Breite) <br> Longitude GPS Wert (Längengrad) <br> Genauigkeit in m</td>
</tr>
<tr>
<td>Boolean</td>
<td><code class="prettyprint">Bool &#39;val&#39;</code></td>
<td>Booleanwert 0 oder 1</td>
</tr>
<tr>
<td>Date</td>
<td><code class="prettyprint">Timestamp &#39;ts&#39;</code></td>
<td>Timestamp in ms</td>
</tr>
</tbody></table>

<h2 id="verf-gbare-icons">Verfügbare Icons</h2>

<p><img src="images/icons.png"></p>

<h1 id="beispielcode">Beispielcode</h1>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">CLIENT_SECRET</span> <span class="o">=</span> <span class="s2">"a605eaf6cffe49d7067901293c302a7a"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">CLIENT_ID</span> <span class="o">=</span> <span class="s2">"api_207da9c8056"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LM_API</span><span class="p">(</span><span class="nx">CLIENT_ID</span><span class="p">,</span><span class="nx">CLIENT_SECRET</span><span class="p">);</span>
<span class="c1">//api.getToken();</span>
<span class="c1">//api.loadObject("b6a3e45af5db4fe1a2c324128db63caf");</span>

<span class="c1">// Load Assets of 1. layer</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">loadAssets</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">assets</span><span class="p">){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">".title"</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">assets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getTitle</span><span class="p">());</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">".image"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="nx">assets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getImage</span><span class="p">());</span>

    <span class="c1">// Load Properties of 1. Asset</span>
    <span class="nx">assets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">loadProperties</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">children</span><span class="p">){</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">"body"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">"&lt;h2&gt;Properties&lt;/h2&gt;"</span><span class="p">);</span>
        <span class="nx">children</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">entry</span><span class="p">)</span> <span class="p">{</span>     
            <span class="nx">$</span><span class="p">(</span><span class="s2">"body"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">"&lt;span&gt;"</span><span class="o">+</span><span class="nx">entry</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">()</span><span class="o">+</span><span class="s2">"&lt;/span&gt;&lt;br&gt;"</span><span class="p">)</span>
        <span class="p">});</span>
    <span class="p">});</span>

    <span class="c1">// Load Data Streams of 1. Asset</span>
    <span class="nx">assets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">loadDataStreams</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">children</span><span class="p">){</span>

        <span class="nx">children</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">entry</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">el</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"&lt;div/&gt;"</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"body"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">"&lt;h2&gt;"</span><span class="o">+</span><span class="nx">entry</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">()</span><span class="o">+</span><span class="s2">"&lt;/h2&gt;"</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"body"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">createChart</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
        <span class="p">});</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">children</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>

<p>Hier noch ein Beispielcode zum testen unserer API. Dieser verbindet sich auf einen unserer Demoaccounts. nach erfolgreichem auslesen der Assets in erster Ebene ladet das SDK vom ersten Assets die Eigenschaften und Messpunkte, und zeigt von den Messpunkten jeweils die Daten als Chart an.</p>

<h1 id="release-notes">Release Notes</h1>

<h3 id="version-2-1-0-2">Version 2.1.0.2:</h3>

<ul>
<li>Integration C# Beispielcode</li>
</ul>

<h3 id="version-2-1-0-1">Version 2.1.0.1:</h3>

<ul>
<li>Logout Funktionalität</li>
</ul>

<h3 id="version-2-1-0-0">Version 2.1.0.0:</h3>

<ul>
<li>Auslesen von Alias/Unique Key</li>
<li>Login via Passwort Grant</li>
<li>Logout via Passwort Grant</li>
<li>Umbenennung von MeasurementPoints auf DataStreams (Messpunkte)</li>
<li>Schreiben von Daten in die LineMetrics Cloud</li>
<li>Updaten von Elementen (Objekte, Messpunkte, Eigenschaften,&hellip;)</li>
</ul>

<h3 id="version-2-0-9-0">Version 2.0.9.0:</h3>

<ul>
<li>Erste stabile Version mit Freigabe an Entwickler</li>
<li>Auslesen von Assets in allen Ebenen</li>
<li>Auslesen von Eigenschaften von Assets</li>
<li>Auslesen von Messpunkten von Assets</li>
<li>Auslesen von Daten der Messpunkte</li>
<li>Schnelles erzeugen von Charts</li>
<li>Auslesen von Dashboards</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">JavaScript</a>
                <a href="#" data-language-name="csharp">C#</a>
          </div>
      </div>
    </div>
  </body>
</html>
